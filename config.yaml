benchmark_matrix:
    -
        - npb-is-c-mpi
        - npb-cg-b-mpi
benchmarks:
#  XSBench:
#    types:
#      - cuda
#      - openmp-threading
#  RSBench:
#    types:
#      - cuda
#      - openmp-threading
  - name: xsbench-cuda
    cmd: "~/XSBench/cuda/XSBench -m event"
  - name: xsbench-ompthreading
    cmd: "~/XSBench/openmp-threading/XSBench -m event"
  - name: rsbench-cuda
    cmd: "~/RSBench/cuda/rsbench -m event"
  - name: rsbench-ompthreading
    cmd: "~/RSBench/openmp-threading/rsbench -m event"
  - name: minigan-cuda
    cmd: "../minigan_torch_env/bin/python3 minigan_driver.py"
    cwd: "/home/mseryn/miniGAN/pytorch"
  - name: minigan-no-cuda
    cmd: "../minigan_torch_env/bin/python3 minigan_driver.py --no-cuda"
    cwd: "/home/mseryn/miniGAN/pytorch"
  - name: npb-is-c-mpi
    cmd: "./bin/is.C.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-MPI"
  - name: npb-is-c-ompt
    cmd: "./bin/is.C.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-OMP"
  - name: npb-cg-b-mpi
    cmd: "./bin/cg.B.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-MPI"
  - name: npb-cg-b-ompt
    cmd: "./bin/cg.B.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-OMP"
  - name: npb-ep-b-mpi
    cmd: "./bin/ep.B.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-MPI"
  - name: npb-ep-b-ompt
    cmd: "./bin/ep.B.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-OMP"
  - name: npb-ft-b-mpi
    cmd: "./bin/ft.B.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-MPI"
  - name: npb-ft-b-ompt
    cmd: "./bin/ft.B.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-OMP"
  - name: npb-mg-c-mpi
    cmd: "./bin/mg.C.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-MPI"
  - name: npb-mg-c-ompt
    cmd: "./bin/mg.C.x"
    cwd: "/home/mseryn/NPB3.4.2/NPB3.4-OMP"

collection_modes:
#  perf:
#    pmu_count: 4
#  nvidia:
#    modes:
#      - power_time
#      - utilization_time
#      - memory_basic_time
#      - temperature_time
#      - clocks_time
#      - gpu_trace
#    gen:
#      - sm_60
  utilization:
    - ''

formatter_modes:
- CSV
- PandasPickle

perf_counters:
- instructions
- L1-dcache-load-misses
- cache-misses
- cache-references
#- major-faults
#- power/energy-pkg/
#- amd_iommu_0/mem_trans_total/
#- cpu-cycles
#- minor-faults

iterations: 1
time_count: 1000
log: true
test_name: ahmd_testing
